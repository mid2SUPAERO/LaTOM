

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>NLPs Subpackage &mdash; LaTOM 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="latom.nlp.nlp" href="_autosummary/latom.nlp.nlp.html" />
    <link rel="prev" title="latom.guess.guess_heo_2d" href="_autosummary/latom.guess.guess_heo_2d.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> LaTOM
          

          
            
            <img src="../_static/LaTOM_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="analyzer.html">Analyzers Subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data Subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="guess.html">Initial Guesses Subpackage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">NLPs Subpackage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#inheritance-diagram">Inheritance Diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modules-list">Modules List</a><ul>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/latom.nlp.nlp.html">latom.nlp.nlp</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html">latom.nlp.nlp_2d</a></li>
<li class="toctree-l3"><a class="reference internal" href="_autosummary/latom.nlp.nlp_heo_2d.html">latom.nlp.nlp_heo_2d</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="odes.html">ODEs Subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="plots.html">Plots Subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="reader.html">Readers Subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="surrogate.html">Surrogate Subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities Subpackage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation_index.html">Installation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LaTOM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>NLPs Subpackage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nlps-subpackage">
<h1>NLPs Subpackage<a class="headerlink" href="#nlps-subpackage" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="inheritance-diagram">
<h2>Inheritance Diagram<a class="headerlink" href="#inheritance-diagram" title="Permalink to this headline">¶</a></h2>
<div class="graphviz"><img src="../_images/inheritance-59d4e228ff3a783ec62fdfea6759b15164d190bd.png" alt="Inheritance diagram of latom.nlp.nlp, latom.nlp.nlp_2d, latom.nlp.nlp_heo_2d" usemap="#inheritancec05b8020b8" class="inheritance graphviz" /></div>
<map id="inheritancec05b8020b8" name="inheritancec05b8020b8">
<area shape="rect" id="node1" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.MultiPhaseNLP" target="_top" title="MultiPhaseNLP transcribes a continuous&#45;time optimal control problem in trajectory optimization constituted by" alt="" coords="86,69,165,86"/>
<area shape="rect" id="node4" href="_autosummary/latom.nlp.nlp_heo_2d.html#latom.nlp.nlp_heo_2d.TwoDim3PhasesLLO2HEONLP" target="_top" title="TwoDim3PhasesLLO2HEONLP transcribes an optimal control problem for a three&#45;phases ascent trajectory from a" alt="" coords="199,36,341,53"/>
<area shape="rect" id="node13" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimDescTwoPhasesNLP" target="_top" title="TwoDimDescTwoPhasesNLP transcribes a continuous&#45;time optimal control problem for a two&#45;dimensional descent" alt="" coords="203,69,337,86"/>
<area shape="rect" id="node2" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.NLP" target="_top" title="NLP class transcribes a continuous&#45;time optimal control problem in trajectory optimization into" alt="" coords="4,86,51,103"/>
<area shape="rect" id="node3" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.SinglePhaseNLP" target="_top" title="SinglePhaseNLP transcribes a continuous&#45;time optimal control problem in trajectory optimization constituted by" alt="" coords="83,102,167,119"/>
<area shape="rect" id="node11" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimNLP" target="_top" title="TwoDimNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="237,102,303,119"/>
<area shape="rect" id="node5" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimAscConstNLP" target="_top" title="TwoDimAscConstNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="511,4,616,20"/>
<area shape="rect" id="node6" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimConstNLP" target="_top" title="TwoDimConstNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="379,36,469,53"/>
<area shape="rect" id="node12" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimDescConstNLP" target="_top" title="TwoDimDescConstNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="508,36,619,53"/>
<area shape="rect" id="node7" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimAscVToffNLP" target="_top" title="TwoDimAscVToffNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="657,53,759,70"/>
<area shape="rect" id="node8" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVToffNLP" target="_top" title="TwoDimVToffNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="520,69,607,86"/>
<area shape="rect" id="node14" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimDescVLandNLP" target="_top" title="TwoDimAscVToffNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="651,86,764,103"/>
<area shape="rect" id="node9" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimAscVarNLP" target="_top" title="TwoDimAscVarNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="516,102,611,119"/>
<area shape="rect" id="node10" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVarNLP" target="_top" title="TwoDimVarNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="384,102,464,119"/>
<area shape="rect" id="node15" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimDescVarNLP" target="_top" title="TwoDimDescVarNLP class transcribes a two&#45;dimensional, continuous&#45;time optimal control problem in trajectory" alt="" coords="513,134,614,151"/>
<area shape="rect" id="node17" href="_autosummary/latom.nlp.nlp_heo_2d.html#latom.nlp.nlp_heo_2d.TwoDimLLO2HEONLP" target="_top" title="TwoDimLLO2HEONLP transcribes a continuous&#45;time optimal control problem for a two&#45;dimensional transfer trajectory" alt="" coords="511,167,616,184"/>
<area shape="rect" id="node16" href="_autosummary/latom.nlp.nlp_heo_2d.html#latom.nlp.nlp_heo_2d.TwoDimLLO2ApoNLP" target="_top" title="TwoDimLLO2HEONLP transcribes a continuous&#45;time optimal control problem for a two&#45;dimensional transfer trajectory" alt="" coords="372,134,476,151"/>
</map></div>
<div class="section" id="modules-list">
<h2>Modules List<a class="headerlink" href="#modules-list" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_autosummary/latom.nlp.nlp.html#module-latom.nlp.nlp" title="latom.nlp.nlp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">latom.nlp.nlp</span></code></a></p></td>
<td><p>&#64;authors: Alberto FOSSA’ Giuliana Elena MICELI</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#module-latom.nlp.nlp_2d" title="latom.nlp.nlp_2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d</span></code></a></p></td>
<td><p>&#64;authors: Alberto FOSSA’ Giuliana Elena MICELI</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_autosummary/latom.nlp.nlp_heo_2d.html#module-latom.nlp.nlp_heo_2d" title="latom.nlp.nlp_heo_2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">latom.nlp.nlp_heo_2d</span></code></a></p></td>
<td><p>&#64;authors: Alberto FOSSA’ Giuliana Elena MICELI</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>&#64;authors: Alberto FOSSA’ Giuliana Elena MICELI</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp.</code><code class="sig-name descname">NLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#NLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>NLP class transcribes a continuous-time optimal control problem in trajectory optimization into
a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em><em> or </em><em>tuple</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em><em> or </em><em>tuple</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide <a class="footnote-reference brackets" href="#id3" id="id1">1</a> for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em><em> or </em><em>tuple</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em><em> or </em><em>tuple</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide <a class="footnote-reference brackets" href="#id3" id="id2">1</a> for more details.</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em>) – Name of the file in which the computed solution is recorded or None</p></li>
<li><p><strong>p</strong> (<em>Problem</em>) – OpenMDAO <cite>Problem</cite> class instance representing the NLP</p></li>
<li><p><strong>trajectory</strong> (<em>Trajectory</em>) – Dymos <cite>Trajectory</cite> class instance representing the spacecraft trajectory</p></li>
<li><p><strong>p_exp</strong> (<em>Problem</em>) – OpenMDAO <cite>Problem</cite> class instance representing the explicitly simulated trajectory</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id2">2</a>,<a href="#id4">3</a>,<a href="#id5">4</a>)</span></dt>
<dd><p>Gill, Philip E., et al. User’s Guide for SNOPT Version 7.7: Software for Large-Scale Nonlinear Programming,
Feb. 2019, p. 126.</p>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#NLP.setup"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#NLP.exp_sim"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#NLP.cleanup"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp.</code><code class="sig-name descname">SinglePhaseNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ode_class</em>, <em class="sig-param">ode_kwargs</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#SinglePhaseNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.NLP" title="latom.nlp.nlp.NLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp.NLP</span></code></a></p>
<p>SinglePhaseNLP transcribes a continuous-time optimal control problem in trajectory optimization constituted by
a single phase into a Non Linear Programming Problem (NLP) using the libraries OpenMDAO and dymos.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ode_class</strong> (<em>ExplicitComponent</em>) – Instance of OpenMDAO <cite>ExplicitComponent</cite> describing the Ordinary Differential Equations (ODEs) that drive the
system dynamics</p></li>
<li><p><strong>ode_kwargs</strong> (<em>dict</em>) – Keywords arguments to be passed to <cite>ode_class</cite></p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide <a class="footnote-reference brackets" href="#id3" id="id4">1</a> for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>phase</strong> (<em>Phase</em>) – Dymos <cite>Phase</cite> object representing the unique phase of the <cite>Trajectory</cite> class instance</p></li>
<li><p><strong>phase_name</strong> (<em>str</em>) – Complete name of the <cite>Phase</cite> instance within OpenMDAO</p></li>
<li><p><strong>state_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the state discretization nodes of the discretized phase</p></li>
<li><p><strong>control_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the control discretization nodes of the discretized phase</p></li>
<li><p><strong>t_all</strong> (<em>ndarray</em>) – Time instants corresponding to all discretization nodes [-]</p></li>
<li><p><strong>t_state</strong> (<em>ndarray</em>) – Time instants corresponding to the state discretization nodes [-]</p></li>
<li><p><strong>t_control</strong> (<em>ndarray</em>) – Time instants corresponding to the control discretization nodes [-]</p></li>
<li><p><strong>idx_state_control</strong> (<em>ndarray</em>) – Indexes of the state discretization nodes among the control discretization nodes</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [-]</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#SinglePhaseNLP.set_objective"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#SinglePhaseNLP.set_time_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#SinglePhaseNLP.set_time_guess"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp.</code><code class="sig-name descname">MultiPhaseNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ode_class</em>, <em class="sig-param">ode_kwargs</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#MultiPhaseNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.NLP" title="latom.nlp.nlp.NLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp.NLP</span></code></a></p>
<p>MultiPhaseNLP transcribes a continuous-time optimal control problem in trajectory optimization constituted by
multiple phases into a Non Linear Programming Problem (NLP) using the libraries OpenMDAO and dymos.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em><em> or </em><em>tuple</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em><em> or </em><em>tuple</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ode_class</strong> (<em>tuple</em>) – Instance of OpenMDAO <cite>ExplicitComponent</cite> describing the Ordinary Differential Equations (ODEs) that drive the
system dynamics</p></li>
<li><p><strong>ode_kwargs</strong> (<em>tuple</em>) – Keywords arguments to be passed to <cite>ode_class</cite></p></li>
<li><p><strong>ph_name</strong> (<em>tuple</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide <a class="footnote-reference brackets" href="#id3" id="id5">1</a> for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>transcription</strong> (<em>list</em>) – List of dymos transcription class instances representing the transcription method, order and segments within
each phase</p></li>
<li><p><strong>phase</strong> (<em>list</em>) – List of dymos <cite>Phase</cite> object representing the different phases of the <cite>Trajectory</cite> class instance</p></li>
<li><p><strong>phase_name</strong> (<em>list</em>) – List of complete names of the <cite>Phase</cite> instance within OpenMDAO</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_time_phase</code><span class="sig-paren">(</span><em class="sig-param">ti</em>, <em class="sig-param">tof</em>, <em class="sig-param">phase</em>, <em class="sig-param">phase_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp.html#MultiPhaseNLP.set_time_phase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compute the time grid within one phase to retrieve the time instants corresponding to the state, control and
all discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ti</strong> (<em>float</em>) – Initial time [-]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Time of flight (TOF) [-]</p></li>
<li><p><strong>phase</strong> (<em>Phase</em>) – Current phase</p></li>
<li><p><strong>phase_name</strong> (<em>str</em>) – Current phase name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>state_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the state discretization nodes</p></li>
<li><p><strong>control_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the control discretization nodes</p></li>
<li><p><strong>t_state</strong> (<em>ndarray</em>) – Time instants on the state discretization nodes [-]</p></li>
<li><p><strong>t_control</strong> (<em>ndarray</em>) – Time instants on the control discretization nodes [-]</p></li>
<li><p><strong>t_all</strong> (<em>ndarray</em>) – Time instants on all discretization nodes [-]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<p>&#64;authors: Alberto FOSSA’ Giuliana Elena MICELI</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ode_class</em>, <em class="sig-param">ode_kwargs</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.SinglePhaseNLP" title="latom.nlp.nlp.SinglePhaseNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp.SinglePhaseNLP</span></code></a></p>
<p>TwoDimNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional trajectory is described in polar coordinates centered at the center of the attracting body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>iterable</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ode_class</strong> (<em>ExplicitComponent</em>) – Instance of OpenMDAO <cite>ExplicitComponent</cite> describing the Ordinary Differential Equations (ODEs) that drive the
system dynamics</p></li>
<li><p><strong>ode_kwargs</strong> (<em>dict</em>) – Keywords arguments to be passed to <cite>ode_class</cite></p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>ndarray</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>r_circ</strong> (<em>float</em>) – Orbit radius [m]</p></li>
<li><p><strong>v_circ</strong> (<em>float</em>) – Orbital velocity [m/s]</p></li>
<li><p><strong>guess</strong> (<a class="reference internal" href="_autosummary/latom.guess.guess_2d.html#latom.guess.guess_2d.TwoDimGuess" title="latom.guess.guess_2d.TwoDimGuess"><em>TwoDimGuess</em></a>) – Initial guess to be provided before solving the NLP</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimNLP.set_states_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimNLP.set_controls_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimNLP.set_initial_guess"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimNLP.set_initial_guess_interpolation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimConstNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">theta</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimConstNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimNLP" title="latom.nlp.nlp_2d.TwoDimNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimNLP</span></code></a></p>
<p>TwoDimConstNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional trajectory is described in polar coordinates centered at the center of the attracting body.
The thrust delivered by the spacecraft engines is supposed to have a constant magnitude throughout the whole phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Guessed time of flight [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of TOF [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimConstNLP.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set options on state and control variables, time and objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Guessed time of flight [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of TOF [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimAscConstNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">theta</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound='lower'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimAscConstNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimConstNLP" title="latom.nlp.nlp_2d.TwoDimConstNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimConstNLP</span></code></a></p>
<p>TwoDimAscConstNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional ascent trajectory is described in polar coordinates centered at the center of the
attracting body. The thrust delivered by the spacecraft engines is supposed to have a constant magnitude throughout
the whole phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Guessed time of flight [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is <code class="docutils literal notranslate"><span class="pre">lower</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on state and control variables, time and objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Guessed time of flight [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of TOF [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimDescConstNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">vp</em>, <em class="sig-param">theta</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound='upper'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimDescConstNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimConstNLP" title="latom.nlp.nlp_2d.TwoDimConstNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimConstNLP</span></code></a></p>
<p>TwoDimDescConstNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional descent trajectory is described in polar coordinates centered at the center of the
attracting body. The thrust delivered by the spacecraft engines is supposed to have a constant magnitude throughout
the whole phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Guessed time of flight [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is <code class="docutils literal notranslate"><span class="pre">upper</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>vp</strong> (<em>float</em>) – Velocity at the periapsis of the Hohmann transfer where the final powered descent is initiated [m/s]</p>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on state and control variables, time and objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Guessed time of flight [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of TOF [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimVarNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">guess</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound=None</em>, <em class="sig-param">fix_final=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimVarNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimNLP" title="latom.nlp.nlp_2d.TwoDimNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimNLP</span></code></a></p>
<p>TwoDimVarNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional trajectory is described in polar coordinates centered at the center of the attracting body.
The thrust delivered by the spacecraft engines varies in magnitude during the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>guess</strong> (<a class="reference internal" href="_autosummary/latom.guess.guess_2d.html#latom.guess.guess_2d.TwoDimGuess" title="latom.guess.guess_2d.TwoDimGuess"><em>TwoDimGuess</em></a>) – Initial guess for the NLP solution</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>guess</strong> (<a class="reference internal" href="_autosummary/latom.guess.guess_2d.html#latom.guess.guess_2d.TwoDimGuess" title="latom.guess.guess_2d.TwoDimGuess"><em>TwoDimGuess</em></a>) – Initial guess for the NLP solution</p>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimVarNLP.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set options on state and control variables, time and objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimAscVarNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound='lower'</em>, <em class="sig-param">fix_final=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimAscVarNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVarNLP" title="latom.nlp.nlp_2d.TwoDimVarNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimVarNLP</span></code></a></p>
<p>TwoDimAscVarNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional ascent trajectory is described in polar coordinates centered at the center of the attracting
body. The thrust delivered by the spacecraft engines varies in magnitude during the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [-]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is <code class="docutils literal notranslate"><span class="pre">lower</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on state and control variables, time and objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimDescVarNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound='upper'</em>, <em class="sig-param">fix_final=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimDescVarNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVarNLP" title="latom.nlp.nlp_2d.TwoDimVarNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimVarNLP</span></code></a></p>
<p>TwoDimDescVarNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional descent trajectory is described in polar coordinates centered at the center of the attracting
body. The thrust delivered by the spacecraft engines varies in magnitude during the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is <code class="docutils literal notranslate"><span class="pre">upper</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on state and control variables, time and objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimVToffNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alt_safe</em>, <em class="sig-param">slope</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">guess</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound=None</em>, <em class="sig-param">fix_final=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimVToffNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVarNLP" title="latom.nlp.nlp_2d.TwoDimVarNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimVarNLP</span></code></a></p>
<p>TwoDimVToffNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional ascent/descent trajectory is described in polar coordinates centered at the center of the
attracting body. The thrust delivered by the spacecraft engines varies in magnitude during the phase.
An appropriate path constraint is imposed on the spacecraft state to guarantee a vertical take-off or landing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>alt_safe</strong> (<em>float</em>) – Minimum altitude above the Moon surface to be maintained by the spacecraft far from the launch site [m]</p></li>
<li><p><strong>slope</strong> (<em>float</em>) – Slope of the path constraint on the spacecraft radius and angle close to the launch site.
Higher the value, steeper the ascent/descent [-]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>guess</strong> (<a class="reference internal" href="_autosummary/latom.guess.guess_2d.html#latom.guess.guess_2d.TwoDimGuess" title="latom.guess.guess_2d.TwoDimGuess"><em>TwoDimGuess</em></a>) – Initial guess for the NLP solution</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>alt_safe</strong> (<em>float</em>) – Minimum altitude above the Moon surface to be maintained by the spacecraft far from the launch site [m]</p></li>
<li><p><strong>slope</strong> (<em>float</em>) – Slope of the path constraint on the spacecraft radius and angle close to the launch site.
Higher the value, steeper the ascent [-]</p></li>
<li><p><strong>guess</strong> (<a class="reference internal" href="_autosummary/latom.guess.guess_2d.html#latom.guess.guess_2d.TwoDimGuess" title="latom.guess.guess_2d.TwoDimGuess"><em>TwoDimGuess</em></a>) – Initial guess for the NLP solution</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimVToffNLP.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the states and controls options and the path constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimAscVToffNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alt_safe</em>, <em class="sig-param">slope</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound='lower'</em>, <em class="sig-param">fix_final=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimAscVToffNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVToffNLP" title="latom.nlp.nlp_2d.TwoDimVToffNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimVToffNLP</span></code></a></p>
<p>TwoDimAscVToffNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional ascent trajectory is described in polar coordinates centered at the center of the attracting
body. The thrust delivered by the spacecraft engines varies in magnitude during the phase.
An appropriate path constraint is imposed on the spacecraft state to guarantee a vertical take-off.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>alt_safe</strong> (<em>float</em>) – Minimum altitude above the Moon surface to be maintained by the spacecraft far from the launch site [m]</p></li>
<li><p><strong>slope</strong> (<em>float</em>) – Slope of the path constraint on the spacecraft radius and angle close to the launch site.
Higher the value, steeper the ascent [-]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is <code class="docutils literal notranslate"><span class="pre">lower</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set the states and controls options and the path constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimDescVLandNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alt_safe</em>, <em class="sig-param">slope</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound='upper'</em>, <em class="sig-param">fix_final=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimDescVLandNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVToffNLP" title="latom.nlp.nlp_2d.TwoDimVToffNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimVToffNLP</span></code></a></p>
<p>TwoDimAscVToffNLP class transcribes a two-dimensional, continuous-time optimal control problem in trajectory
optimization into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-dimensional descent trajectory is described in polar coordinates centered at the center of the attracting
body. The thrust delivered by the spacecraft engines varies in magnitude during the phase.
An appropriate path constraint is imposed on the spacecraft state to guarantee a vertical landing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Orbit altitude [m]</p></li>
<li><p><strong>alt_safe</strong> (<em>float</em>) – Minimum altitude above the Moon surface to be maintained by the spacecraft far from the launch site [m]</p></li>
<li><p><strong>slope</strong> (<em>float</em>) – Slope of the path constraint on the spacecraft radius and angle close to the launch site.
Higher the value, steeper the descent [-]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is <code class="docutils literal notranslate"><span class="pre">upper</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set the states and controls options and the path constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_2d.</code><code class="sig-name descname">TwoDimDescTwoPhasesNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">alt_switch</em>, <em class="sig-param">vp</em>, <em class="sig-param">theta</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">fix='alt'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimDescTwoPhasesNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.MultiPhaseNLP" title="latom.nlp.nlp.MultiPhaseNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp.MultiPhaseNLP</span></code></a></p>
<p>TwoDimDescTwoPhasesNLP transcribes a continuous-time optimal control problem for a two-dimensional descent
trajectory into a Non Linear Programming Problem (NLP) using the OpenMDAO and dymos libraries.</p>
<p>The two-phases transfer is constituted by an initial deorbit burn to lower the periapsis of the departure orbit,
an Hohmann transfer, a first powered phase from its periapsis to a predetermined altitude or time to go and a final
vertical descent at full thrust.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Periselene altitude at which the powered descent is initiated [m]</p></li>
<li><p><strong>alt_switch</strong> (<em>float</em>) – Altitude at which the vertical descent is triggered [m]</p></li>
<li><p><strong>vp</strong> (<em>float</em>) – Periselene velocity at which the powered descent is initiated [m/s]</p></li>
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>iterable</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>tof</strong> (<em>iterable</em>) – Guessed time of flight for the two phases [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em><em> or </em><em>tuple</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em><em> or </em><em>tuple</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>tuple</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix</strong> (<em>str</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">alt</span></code> to trigger the vertical phase at fixed altitude equal to <cite>alt_switch</cite>, <code class="docutils literal notranslate"><span class="pre">time</span></code> to trigger the vertical
phase at fixed time to go equal to the second component of <cite>tof</cite>. Default is <code class="docutils literal notranslate"><span class="pre">alt</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>alt</strong> (<em>float</em>) – Periselene altitude at which the powered descent is initiated [m]</p></li>
<li><p><strong>alt_switch</strong> (<em>float</em>) – Altitude at which the vertical descent is triggered [m]</p></li>
<li><p><strong>rp</strong> (<em>float</em>) – Periselene radius at which the powered descent is initiated [m]</p></li>
<li><p><strong>r_switch</strong> (<em>float</em>) – Radius at which the vertical descent is triggered [m]</p></li>
<li><p><strong>vp</strong> (<em>float</em>) – Periselene velocity at which the powered descent is initiated [m/s]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>iterable</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>tof</strong> (<em>iterable</em>) – Guessed time of flight for the two phases [s]</p></li>
<li><p><strong>fix</strong> (<em>str</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">alt</span></code> to trigger the vertical phase at fixed altitude equal to <cite>alt_switch</cite>, <code class="docutils literal notranslate"><span class="pre">time</span></code> to trigger the vertical
phase at fixed time to go equal to the second component of <cite>tof</cite>. Default is <code class="docutils literal notranslate"><span class="pre">alt</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimDescTwoPhasesNLP.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the time, states and control options for both phases and add the NLP objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>iterable</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">check_partials=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_2d.html#TwoDimDescTwoPhasesNLP.set_initial_guess"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the initial guess for the NLP solution as simple linear interpolation of the Boundary Conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_phase</code><span class="sig-paren">(</span><em class="sig-param">ti</em>, <em class="sig-param">tof</em>, <em class="sig-param">phase</em>, <em class="sig-param">phase_name</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid within one phase to retrieve the time instants corresponding to the state, control and
all discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ti</strong> (<em>float</em>) – Initial time [-]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Time of flight (TOF) [-]</p></li>
<li><p><strong>phase</strong> (<em>Phase</em>) – Current phase</p></li>
<li><p><strong>phase_name</strong> (<em>str</em>) – Current phase name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>state_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the state discretization nodes</p></li>
<li><p><strong>control_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the control discretization nodes</p></li>
<li><p><strong>t_state</strong> (<em>ndarray</em>) – Time instants on the state discretization nodes [-]</p></li>
<li><p><strong>t_control</strong> (<em>ndarray</em>) – Time instants on the control discretization nodes [-]</p></li>
<li><p><strong>t_all</strong> (<em>ndarray</em>) – Time instants on all discretization nodes [-]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<p>&#64;authors: Alberto FOSSA’ Giuliana Elena MICELI</p>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_heo_2d.</code><code class="sig-name descname">TwoDimLLO2HEONLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">rp</em>, <em class="sig-param">t</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">u_bound='lower'</em>, <em class="sig-param">fix_final=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDimLLO2HEONLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimVarNLP" title="latom.nlp.nlp_2d.TwoDimVarNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimVarNLP</span></code></a></p>
<p>TwoDimLLO2HEONLP transcribes a continuous-time optimal control problem for a two-dimensional transfer trajectory
from a Low Lunar Orbit (LLO) to an Highly Elliptical Orbit (HEO) into a Non Linear Programming Problem (NLP) using
the OpenMDAO and dymos libraries.</p>
<p>The transfer is modeled as a single phase ascent trajectory from the departure LLO to the apoapsis of the arrival
HEO. The thrust magnitude is allowed to vary over time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – LLO altitude [m]</p></li>
<li><p><strong>rp</strong> (<em>float</em>) – HEO periapsis radius [m]</p></li>
<li><p><strong>t</strong> (<em>float</em>) – HEO period [s]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (dict or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>rec_file</strong> (str or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – Name of the file in which the computed solution is recorded or <code class="docutils literal notranslate"><span class="pre">None</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>u_bound</strong> (str or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">lower</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDimLLO2HEONLP.set_states_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the states variables options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Unit reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (str or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">lower</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the iterative solution of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on state and control variables, time and objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Guessed spawn angle [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_heo_2d.</code><code class="sig-name descname">TwoDimLLO2ApoNLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">rp</em>, <em class="sig-param">t</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDimLLO2ApoNLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp_2d.html#latom.nlp.nlp_2d.TwoDimNLP" title="latom.nlp.nlp_2d.TwoDimNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp_2d.TwoDimNLP</span></code></a></p>
<p>TwoDimLLO2HEONLP transcribes a continuous-time optimal control problem for a two-dimensional transfer trajectory
from a Low Lunar Orbit (LLO) to an Highly Elliptical Orbit (HEO) into a Non Linear Programming Problem (NLP) using
the OpenMDAO and dymos libraries.</p>
<p>The transfer is modeled as a single phase ascent trajectory from the departure LLO to the apoapsis of the arrival
HEO. The thrust magnitude is allowed to vary over time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – LLO altitude [m]</p></li>
<li><p><strong>rp</strong> (<em>float</em>) – HEO periapsis radius [m]</p></li>
<li><p><strong>t</strong> (<em>float</em>) – HEO period [s]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>tuple</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>str</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (dict or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>rec_file</strong> (str or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – Name of the file in which the computed solution is recorded or <code class="docutils literal notranslate"><span class="pre">None</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>params</strong> (dict or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – Optional parameters to be passed when a continuation method is employed and the NLP guess is not defined or
<code class="docutils literal notranslate"><span class="pre">None</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>guess</strong> (TwoDimLLO2HEOGuess or <code class="docutils literal notranslate"><span class="pre">None</span></code>) – Initial guess or <code class="docutils literal notranslate"><span class="pre">None</span></code> if continuation is used</p>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">add_timeseries_output</code><span class="sig-paren">(</span><em class="sig-param">names=('a'</em>, <em class="sig-param">'eps'</em>, <em class="sig-param">'h')</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDimLLO2ApoNLP.add_timeseries_output"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Adds the semi-major axis, specific energy and specific angular momentum magnitude to the time series outputs
of the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>names</strong> (<em>iterable</em>) – List of strings corresponding to the names of the variables to be added to the outputs</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_options</code><span class="sig-paren">(</span><em class="sig-param">rp</em>, <em class="sig-param">vp</em>, <em class="sig-param">thetaf</em>, <em class="sig-param">tof</em>, <em class="sig-param">t_bounds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDimLLO2ApoNLP.set_options"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the states, controls and time options, add the design parameters and boundary constraints, define the
objective of the optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rp</strong> (<em>float</em>) – Unit reference value for lengths [m]</p></li>
<li><p><strong>vp</strong> (<em>float</em>) – Unit reference value for velocities [m/s]</p></li>
<li><p><strong>thetaf</strong> (<em>float</em>) – Unit reference value for spawn angle [rad]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Guessed time of flight [s]</p></li>
<li><p><strong>t_bounds</strong> (iterable or <code class="docutils literal notranslate"><span class="pre">None</span></code>, optional) – Time of flight lower and upper bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess</code><span class="sig-paren">(</span><em class="sig-param">check_partials=False</em>, <em class="sig-param">fix_final=False</em>, <em class="sig-param">throttle=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDimLLO2ApoNLP.set_initial_guess"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the initial guess for a single solution or the first solution of a continuation procedure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>fix_final</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the final time is fixed, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> of variable thrust, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_continuation_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">states</em>, <em class="sig-param">controls</em>, <em class="sig-param">check_partials=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDimLLO2ApoNLP.set_continuation_guess"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the initial guess for the solution <code class="docutils literal notranslate"><span class="pre">k+1</span></code> as the optimal transfer found for the solution <code class="docutils literal notranslate"><span class="pre">k</span></code> during
a continuation procedure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Time of flight for the previous optimal solution [s]</p></li>
<li><p><strong>states</strong> (<em>ndarray</em>) – States on the states discretization nodes for the previous optimal solution</p></li>
<li><p><strong>controls</strong> (<em>ndarray</em>) – Controls on the controls discretization nodes for the previous optimal solution</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_controls_options</code><span class="sig-paren">(</span><em class="sig-param">throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_interpolation</code><span class="sig-paren">(</span><em class="sig-param">bcs=array([[1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.],        [1., 1.]]), check_partials=False, throttle=True</em><span class="sig-paren">)</span></dt>
<dd><p>Set the initial guess for the solution of the NLP interpolating the Boundary Conditions (BCs) imposed on the
state and control variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bcs</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Boundary Conditions on state and control variables. Default is all ones</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>throttle</strong> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for variable thrust magnitude, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise. Default is <cite>‘True`</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_objective</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set the NLP objective as the minimization of the opposite of the final spacecraft mass.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_states_options</code><span class="sig-paren">(</span><em class="sig-param">theta</em>, <em class="sig-param">u_bound=None</em><span class="sig-paren">)</span></dt>
<dd><p>Set options on the state variables of the NLP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theta</strong> (<em>float</em>) – Reference value for spawn angle [rad]</p></li>
<li><p><strong>u_bound</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Bounds on spacecraft radial velocity between <code class="docutils literal notranslate"><span class="pre">lower</span></code> and <code class="docutils literal notranslate"><span class="pre">upper</span></code> or None. Default is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_guess</code><span class="sig-paren">(</span><em class="sig-param">tof</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid on the phase to retrieve the time instants corresponding to states, controls and all
discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_options</code><span class="sig-paren">(</span><em class="sig-param">tof</em>, <em class="sig-param">t_bounds</em><span class="sig-paren">)</span></dt>
<dd><p>Set the time options on the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tof</strong> (<em>float</em>) – Phase time of flight (TOF) [s]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight lower and upper bounds expressed as a fraction of <cite>tof</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">latom.nlp.nlp_heo_2d.</code><code class="sig-name descname">TwoDim3PhasesLLO2HEONLP</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">sc</em>, <em class="sig-param">alt</em>, <em class="sig-param">rp</em>, <em class="sig-param">t</em>, <em class="sig-param">alpha_bounds</em>, <em class="sig-param">t_bounds</em>, <em class="sig-param">method</em>, <em class="sig-param">nb_seg</em>, <em class="sig-param">order</em>, <em class="sig-param">solver</em>, <em class="sig-param">ph_name</em>, <em class="sig-param">snopt_opts=None</em>, <em class="sig-param">rec_file=None</em>, <em class="sig-param">check_partials=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDim3PhasesLLO2HEONLP"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference internal" href="_autosummary/latom.nlp.nlp.html#latom.nlp.nlp.MultiPhaseNLP" title="latom.nlp.nlp.MultiPhaseNLP"><code class="xref py py-class docutils literal notranslate"><span class="pre">latom.nlp.nlp.MultiPhaseNLP</span></code></a></p>
<p>TwoDim3PhasesLLO2HEONLP transcribes an optimal control problem for a three-phases ascent trajectory from a
circular Low Lunar Orbit (LLO) to an Highly Elliptical Orbit (HEO) into a Non Linear Programming Problem (NLP) using
the OpenMDAO and dymos libraries.</p>
<p>The transfer is modeled with a first powered phase at maximum thrust to leave the initial LLO, and intermediate
coasting phase and a second powered phase to inject in the target HEO.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> (<a class="reference internal" href="_autosummary/latom.utils.primary.html#latom.utils.primary.Primary" title="latom.utils.primary.Primary"><em>Primary</em></a>) – Instance of <cite>Primary</cite> class representing the central attracting body</p></li>
<li><p><strong>sc</strong> (<a class="reference internal" href="_autosummary/latom.utils.spacecraft.html#latom.utils.spacecraft.Spacecraft" title="latom.utils.spacecraft.Spacecraft"><em>Spacecraft</em></a>) – Instance of <cite>Spacecraft</cite> class representing the spacecraft</p></li>
<li><p><strong>alt</strong> (<em>float</em>) – Periselene altitude at which the powered descent is initiated [m]</p></li>
<li><p><strong>rp</strong> (<em>float</em>) – HEO periapsis radius [m]</p></li>
<li><p><strong>t</strong> (<em>float</em>) – HEO period [s]</p></li>
<li><p><strong>alpha_bounds</strong> (<em>iterable</em>) – Lower and upper bounds on thrust vector direction [rad]</p></li>
<li><p><strong>t_bounds</strong> (<em>tuple</em>) – Time of flight bounds expressed as fraction of <cite>tof</cite> [-]</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Transcription method used to discretize the continuous time trajectory into a finite set of nodes,
allowed <code class="docutils literal notranslate"><span class="pre">gauss-lobatto</span></code>, <code class="docutils literal notranslate"><span class="pre">radau-ps</span></code> and <code class="docutils literal notranslate"><span class="pre">runge-kutta</span></code></p></li>
<li><p><strong>nb_seg</strong> (<em>int</em><em> or </em><em>tuple</em>) – Number of segments in which each phase is discretized</p></li>
<li><p><strong>order</strong> (<em>int</em><em> or </em><em>tuple</em>) – Transcription order within each phase, must be odd</p></li>
<li><p><strong>solver</strong> (<em>str</em>) – NLP solver, must be supported by OpenMDAO</p></li>
<li><p><strong>ph_name</strong> (<em>tuple</em>) – Name of the phase within OpenMDAO</p></li>
<li><p><strong>snopt_opts</strong> (<em>dict</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – SNOPT optional settings expressed as key-value pairs. Refer to the SNOPT User Guide for more details.
Default is None</p></li>
<li><p><strong>rec_file</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Name of the file in which the computed solution is recorded or None. Default is None</p></li>
<li><p><strong>check_partials</strong> (<em>bool</em><em>, </em><em>optional</em>) – Check the partial derivatives computed analytically against complex step method. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>guess</strong> (<a class="reference internal" href="_autosummary/latom.guess.guess_heo_2d.html#latom.guess.guess_heo_2d.TwoDim3PhasesLLO2HEOGuess" title="latom.guess.guess_heo_2d.TwoDim3PhasesLLO2HEOGuess"><em>TwoDim3PhasesLLO2HEOGuess</em></a>) – Initial guess for the iterative NLP solution</p></li>
<li><p><strong>tof_adim</strong> (<em>ndarray</em>) – Time of flight in non-dimensional units [-]</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">set_initial_guess_phase</code><span class="sig-paren">(</span><em class="sig-param">state_nodes</em>, <em class="sig-param">control_nodes</em>, <em class="sig-param">phase_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/latom/nlp/nlp_heo_2d.html#TwoDim3PhasesLLO2HEONLP.set_initial_guess_phase"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Set the initial guess for a given <cite>Phase</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the states discretization nodes within the specified transcription</p></li>
<li><p><strong>control_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the controls discretization nodes within the specified transcription</p></li>
<li><p><strong>phase_name</strong> (<em>str</em>) – Name of the current <cite>Phase</cite> object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Clean up resources.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">exp_sim</code><span class="sig-paren">(</span><em class="sig-param">rec_file=None</em><span class="sig-paren">)</span></dt>
<dd><p>Explicitly simulate the implicitly obtained optimal solution using Scipy <cite>solve_ivp</cite> method.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">set_time_phase</code><span class="sig-paren">(</span><em class="sig-param">ti</em>, <em class="sig-param">tof</em>, <em class="sig-param">phase</em>, <em class="sig-param">phase_name</em><span class="sig-paren">)</span></dt>
<dd><p>Compute the time grid within one phase to retrieve the time instants corresponding to the state, control and
all discretization nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ti</strong> (<em>float</em>) – Initial time [-]</p></li>
<li><p><strong>tof</strong> (<em>float</em>) – Time of flight (TOF) [-]</p></li>
<li><p><strong>phase</strong> (<em>Phase</em>) – Current phase</p></li>
<li><p><strong>phase_name</strong> (<em>str</em>) – Current phase name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>state_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the state discretization nodes</p></li>
<li><p><strong>control_nodes</strong> (<em>ndarray</em>) – Indexes corresponding to the control discretization nodes</p></li>
<li><p><strong>t_state</strong> (<em>ndarray</em>) – Time instants on the state discretization nodes [-]</p></li>
<li><p><strong>t_control</strong> (<em>ndarray</em>) – Time instants on the control discretization nodes [-]</p></li>
<li><p><strong>t_all</strong> (<em>ndarray</em>) – Time instants on all discretization nodes [-]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Set up the Jacobian type, linear solver and derivatives type.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="_autosummary/latom.nlp.nlp.html" class="btn btn-neutral float-right" title="latom.nlp.nlp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="_autosummary/latom.guess.guess_heo_2d.html" class="btn btn-neutral float-left" title="latom.guess.guess_heo_2d" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alberto Fossa&#39;, Giuliana Elena Miceli

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>